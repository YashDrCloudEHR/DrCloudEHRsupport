<!DOCTYPE html>
<html>
    <head>
        <title>DrCloudEHR : End User DrCloudEHR MU3 API Documentation</title>
        <link rel="stylesheet" href="styles/site.css" type="text/css" />
        <META http-equiv="Content-Type" content="text/html; charset=UTF-8">
    </head>

    <body class="theme-default aui-theme-default">
        <div id="page">
            <div id="main" class="aui-page-panel">
                <div id="main-header">
                    <div id="breadcrumb-section">
                        <ol id="breadcrumbs">
                            <li class="first">
                                <span><a href="index.html">DrCloudEHR</a></span>
                            </li>
                                                    <li>
                                <span><a href="DrCloudEHR_33783903.html">DrCloudEHR</a></span>
                            </li>
                                                </ol>
                    </div>
                    <h1 id="title-heading" class="pagetitle">
                                                <span id="title-text">
                            DrCloudEHR : End User DrCloudEHR MU3 API Documentation
                        </span>
                    </h1>
                </div>

                <div id="content" class="view">
                    <div class="page-metadata">
                        
        
    
    
        
    
        
        
            Created by <span class='author'> Jon Fo</span>, last modified by <span class='editor'> Ramesh Nagul</span> on Aug 16, 2024
                        </div>
                    <div id="main-content" class="wiki-content group">
                    <p><style type='text/css'>/*<![CDATA[*/
div.rbtoc1763549373383 {padding: 0px;}
div.rbtoc1763549373383 ul {margin-left: 0px;}
div.rbtoc1763549373383 li {margin-left: 0px;padding-left: 0px;}

/*]]>*/</style><div class='toc-macro rbtoc1763549373383'>
<ul class='toc-indentation'>
<li><a href='#EndUserDrCloudEHRMU3APIDocumentation-APIDescription'>API Description</a>
<ul class='toc-indentation'>
<li><a href='#EndUserDrCloudEHRMU3APIDocumentation-BasicWorkflow'>Basic Workflow</a></li>
<li><a href='#EndUserDrCloudEHRMU3APIDocumentation-Technicaldetails'>Technical details</a></li>
</ul>
</li>
<li><a href='#EndUserDrCloudEHRMU3APIDocumentation-MU3API'>MU3 API</a></li>
<li><a href='#EndUserDrCloudEHRMU3APIDocumentation-TestingwithPostman'>Testing with Postman</a></li>
<li><a href='#EndUserDrCloudEHRMU3APIDocumentation-TermsofUse'>Terms of Use</a>
<ul class='toc-indentation'>
<li><a href='#EndUserDrCloudEHRMU3APIDocumentation-Definitions'>Definitions</a></li>
<li><a href='#EndUserDrCloudEHRMU3APIDocumentation-LicenseGrant'>License Grant</a></li>
<li><a href='#EndUserDrCloudEHRMU3APIDocumentation-LimitationofLiability'>Limitation of Liability</a></li>
<li><a href='#EndUserDrCloudEHRMU3APIDocumentation-LicenseRestrictions'>License Restrictions</a></li>
<li><a href='#EndUserDrCloudEHRMU3APIDocumentation-MandatoryDisclosures'>Mandatory Disclosures</a></li>
<li><a href='#EndUserDrCloudEHRMU3APIDocumentation-Usage'>Usage</a></li>
</ul>
</li>
</ul>
</div></p><p><strong>Software Release Version</strong></p><p>DrCloudEHR 2020, 2025</p><h1 id="EndUserDrCloudEHRMU3APIDocumentation-APIDescription">API Description</h1><p>The DrCloud MU3 API is a web-based, USCDI-compliant API that is used to request and receive data from a DrCloudEHR server.</p><ul><li>When a user 'logs in' to the API, a token is received that can be used to authenticate later API calls.<ul><li>User creation is handled by the existing User management interface.</li><li>Tokens are valid for up to 60 minutes.   However, a user may request a new token at any time.</li></ul></li><li>Parameters are passed to the API scripts using POST variables.<ul><li>The programs written to test the API are PHP scripts that use libcurl to communicate with the API scripts.</li></ul></li><li>The scripts return requested MU3 data formatted as an XML file.<ul><li>For API calls that request MU3 section data, the returned files are generated by DrCloud's CCDA reporting code.</li></ul></li></ul><h2 id="EndUserDrCloudEHRMU3APIDocumentation-BasicWorkflow"><span>Basic Workflow</span></h2><ul><li>User 'logs in' to the API by running <strong>login.php</strong>.<ul><li>A token is received that can be used to authenticate later API calls.</li><li>User creation is handled by the existing User management interface.</li><li>Tokens are valid for up to 60 minutes.   However, a user may request a new token at any time.</li></ul></li><li>If the user does not know the patient's ID, it can be found by running either <strong>patientlist.php</strong> or <strong>patientsearch.php</strong>.</li><li><strong>getpatdata.php</strong> can then be run to query the API for the patient's USCDI data.</li></ul><h2 id="EndUserDrCloudEHRMU3APIDocumentation-Technicaldetails">Technical details</h2><ul><li>Only authorized DrCloudEHR customers with a valid subscription are eligible for this API access.</li><li>An authorized DrCloudEHR user account enabled for API access is required to make the API calls. Please email <a href="mailto:support@drlcoudemr.com" class="external-link" rel="nofollow">support@drlcoudemr.com</a> to request access or submit a ticket using the Help Desk.</li><li>The DrCloudEHR server uses HTTPS to ensure a secure data connection.</li><li>Parameters are passed to the API scripts using POST variables.<ul><li>Most of the API calls return their result as an XML file.</li><li>The script that handles MU3 data request returns a JSON file.</li></ul></li></ul><h1 id="EndUserDrCloudEHRMU3APIDocumentation-MU3API">MU3 API</h1><p>This table shows the API for Meaningful Use Stage 3 validation.   Most of the API calls make use of POST variables.   Browser-based HTML forms can be used to access these, though we have been able to use both PHP scripts, as well as Postman (<a href="https://getpostman.com)" class="external-link" rel="nofollow">https://getpostman.com)</a> to test the API.</p><p><br/></p><div class="table-wrap"><table class="relative-table wrapped confluenceTable"><colgroup><col style="width: 234.0px;"/><col/><col style="width: 272.0px;"/><col style="width: 259.0px;"/><col style="width: 235.0px;"/></colgroup><tbody><tr><th colspan="1" class="confluenceTh">Filename</th><th colspan="1" class="confluenceTh">POST Variables</th><th colspan="1" class="confluenceTh"><p>Returns</p><p>(status = 0)</p></th><th colspan="1" class="confluenceTh"><p>Errors</p><p>(status != 0)</p></th><th colspan="1" class="confluenceTh">Comments</th></tr><tr><td colspan="1" class="confluenceTd">login.php</td><td colspan="1" class="confluenceTd"><ul><li>username</li><li>password</li><li>site</li></ul></td><td colspan="1" class="confluenceTd"><p>An XML file containing an array of records, consisting of:</p><ul><li>token</li><li>id (user's id)</li><li>provider</li><li>firstname</li><li>lastname</li><li>title</li></ul></td><td colspan="1" class="confluenceTd"><ul><li>-1 : Username/Password incorrect.</li></ul></td><td colspan="1" class="confluenceTd"><p><span>Generates the API session token. Token is valid for 1 hour, but you can generate a new token at any time before then.</span></p><p><br/></p></td></tr><tr><td class="confluenceTd">patientlist.php</td><td colspan="1" class="confluenceTd"><ul><li>site</li><li>token</li></ul></td><td colspan="1" class="confluenceTd"><p>XML file containing an array of records containing:</p><ul><li>id</li><li>pid</li><li>firstname</li><li>lastname</li><li>middlename</li><li>phone</li><li>dob</li><li>gender</li></ul></td><td colspan="1" class="confluenceTd"><ul><li>-1 : ERROR: Sorry, there was an error processing your data. Please correct and submit the information again.</li><li>-2 : You are not Authorized to perform this action</li><li>-3 - Invalid Token</li></ul></td><td colspan="1" class="confluenceTd"><p>Get a list of all patients.</p><p>Used to find patient ID's, if you don't know the patient's name.</p></td></tr><tr><td colspan="1" class="confluenceTd">patientsearch.php</td><td colspan="1" class="confluenceTd"><ul><li>token</li><li>firstname (optional)</li><li>lastname</li><li>site</li></ul></td><td colspan="1" class="confluenceTd"><p>An XML file containing:</p><ul><li>id</li><li>pid</li><li>firstname</li><li>lastname</li><li>phone</li><li>dob</li><li>gender<br/><br/></li></ul></td><td colspan="1" class="confluenceTd"><ul><li>-1 : Could not find results</li><li>-2 : You are not Authorized to perform this action</li><li>-3 : Invalid Token</li><li>-4 : Must specify firstname or lastname</li></ul></td><td colspan="1" class="confluenceTd"><p>Search for a patient by first name or last name.</p><p>You must specify a last name if you want to specify a first name.</p><p>example POST variables:</p><p>firstname = &quot;Artemis&quot;, lastname=&quot;Osborne&quot;</p><p>Returns a list of patient entries that match at least one of the search parameters.</p><p><br/></p></td></tr><tr><td colspan="1" class="confluenceTd">getpatdata.php</td><td colspan="1" class="confluenceTd"><ul><li>site</li><li>pid</li><li>token</li><li>enable_date_filter (optional)</li><li>start_date (optional)</li><li>end_date (optional)</li><li>section_num (optional)</li></ul><p>If enable_date_filter is not set, date filtering will be enabled. Note that the code simply checks for the existence of enable_date_filter. Set this to &quot;1&quot;, so that it doesn't confuse people.</p><p>The date filter applies to the following sections:</p><div class="table-wrap"><table class="wrapped confluenceTable" data-mce-resize="false"><tbody><tr><th class="confluenceTh">#</th><th class="confluenceTh">section</th></tr><tr><td class="confluenceTd">8</td><td class="confluenceTd">Problems</td></tr><tr><td class="confluenceTd">9</td><td class="confluenceTd">Medications</td></tr><tr><td class="confluenceTd">10</td><td class="confluenceTd">Allergies</td></tr><tr><td class="confluenceTd">11</td><td class="confluenceTd">Lab Tests</td></tr><tr><td class="confluenceTd">12</td><td class="confluenceTd">Lab Test Results</td></tr><tr><td class="confluenceTd">13</td><td class="confluenceTd">Vital Signs</td></tr><tr><td class="confluenceTd">15</td><td class="confluenceTd">Procedures</td></tr><tr><td class="confluenceTd">17</td><td class="confluenceTd">Immunizations</td></tr><tr><td colspan="1" class="confluenceTd">18</td><td colspan="1" class="confluenceTd">Implantable Devices</td></tr></tbody></table></div><p>If enable_data_filter is set and start_date is not set, the date 1970-01-01 will be used as the start date.</p><p>If enable_data_filter is set, and end_date is not set, the current date will be used as the end date. Note that this date is set by the server and not the client.</p><p><br/></p></td><td colspan="1" class="confluenceTd"><p>A JSON file containing data for the requested section.</p><p>Selecting any of the &quot;demographics&quot; sections (1-6) will return all of the demographics sections.</p><p>Selecting any of the other sections will also return the Demographics sections in addition to the selected section.</p><p>If section_num was set to zero, or no section_num was specified, all sections will be returned.</p><p><br/></p></td><td colspan="1" class="confluenceTd"><ul><li>-1 : Error processing patient record</li><li>-2 : You are not authorized to perform this action</li><li>-3 : Invalid Token</li><li>-4 : Invalid section number. Must be between 0 and 21</li></ul><p>If section 14 is selected:</p><ul><li>-5 : Section 14 no longer exists</li></ul><p><br/></p><div class="table-wrap"><table class="wrapped confluenceTable" data-mce-resize="false"><tbody><tr><th class="confluenceTh">#</th><th class="confluenceTh">These sections return -1 when no data is available .</th></tr><tr><td colspan="1" class="confluenceTd">8</td><td colspan="1" class="confluenceTd">Problems</td></tr><tr><td colspan="1" class="confluenceTd">9</td><td colspan="1" class="confluenceTd">Medications</td></tr><tr><td colspan="1" class="confluenceTd">10</td><td colspan="1" class="confluenceTd">Allergies</td></tr><tr><td class="confluenceTd">11</td><td class="confluenceTd">Lab Tests</td></tr><tr><td class="confluenceTd">12</td><td class="confluenceTd">Lab Results</td></tr><tr><td class="confluenceTd">13</td><td class="confluenceTd">Vital Signs</td></tr><tr><td class="confluenceTd">15</td><td class="confluenceTd">Procedures</td></tr><tr><td class="confluenceTd">16</td><td class="confluenceTd">Care Team Members</td></tr><tr><td class="confluenceTd">17</td><td class="confluenceTd">Immunizations</td></tr><tr><td class="confluenceTd">18</td><td class="confluenceTd">Implantable Devices</td></tr><tr><td class="confluenceTd">19</td><td class="confluenceTd">Assessments/Treatment Plan</td></tr><tr><td class="confluenceTd">20</td><td class="confluenceTd">Goals</td></tr><tr><td class="confluenceTd">21</td><td class="confluenceTd">Health Concerns</td></tr></tbody></table></div></td><td colspan="1" class="confluenceTd"><p>Returns the USCDI sections for MU Stage 3.</p><p><br/></p><p><br/></p><p>Section numbers</p><div class="table-wrap"><table class="wrapped confluenceTable" data-mce-resize="false"><tbody><tr><th style="text-align: center;" class="confluenceTh"><p>#</p></th><th class="confluenceTh">section</th></tr><tr><td style="text-align: center;" class="confluenceTd"><span style="color: rgb(51,153,102);">1</span></td><td class="confluenceTd"><span style="color: rgb(51,153,102);">Patient name</span></td></tr><tr><td style="text-align: center;" class="confluenceTd"><span style="color: rgb(51,153,102);">2</span></td><td class="confluenceTd"><span style="color: rgb(51,153,102);">Sex</span></td></tr><tr><td style="text-align: center;" class="confluenceTd"><span style="color: rgb(51,153,102);">3</span></td><td class="confluenceTd"><span style="color: rgb(51,153,102);">Date of Birth</span></td></tr><tr><td style="text-align: center;" colspan="1" class="confluenceTd"><span style="color: rgb(51,153,102);">4</span></td><td colspan="1" class="confluenceTd"><span style="color: rgb(51,153,102);">Race</span></td></tr><tr><td style="text-align: center;" colspan="1" class="confluenceTd"><span style="color: rgb(51,153,102);">5</span></td><td colspan="1" class="confluenceTd"><span style="color: rgb(51,153,102);">Ethnicity</span></td></tr><tr><td style="text-align: center;" class="confluenceTd"><span style="color: rgb(51,153,102);">6</span></td><td class="confluenceTd"><span style="color: rgb(51,153,102);">Preferred language</span></td></tr><tr><td style="text-align: center;" class="confluenceTd">7</td><td class="confluenceTd">Smoking status</td></tr><tr><td style="text-align: center;" class="confluenceTd">8</td><td class="confluenceTd">Problems</td></tr><tr><td style="text-align: center;" class="confluenceTd">9</td><td class="confluenceTd">Medications</td></tr><tr><td style="text-align: center;" class="confluenceTd">10</td><td class="confluenceTd">Allergies</td></tr><tr><td style="text-align: center;" class="confluenceTd">11</td><td class="confluenceTd">Lab Tests</td></tr><tr><td style="text-align: center;" class="confluenceTd">12</td><td class="confluenceTd">Lab Test Results</td></tr><tr><td style="text-align: center;" class="confluenceTd">13</td><td class="confluenceTd">Vital Signs</td></tr><tr><td style="text-align: center;" class="confluenceTd">15</td><td class="confluenceTd">Procedures</td></tr><tr><td style="text-align: center;" class="confluenceTd">16</td><td class="confluenceTd">Care team members</td></tr><tr><td style="text-align: center;" class="confluenceTd">17</td><td class="confluenceTd">Immunizations</td></tr><tr><td style="text-align: center;" class="confluenceTd">18</td><td class="confluenceTd">Implantable device list</td></tr><tr><td style="text-align: center;" class="confluenceTd">19</td><td class="confluenceTd">Assessment and Treatment Plan</td></tr><tr><td style="text-align: center;" colspan="1" class="confluenceTd">20</td><td colspan="1" class="confluenceTd">Goals</td></tr><tr><td style="text-align: center;" colspan="1" class="confluenceTd">21</td><td colspan="1" class="confluenceTd">Health Concerns</td></tr></tbody></table></div></td></tr><tr><td colspan="1" class="confluenceTd">get_ccda.php</td><td colspan="1" class="confluenceTd"><ul><li>site</li><li>pid</li><li>token</li><li>enable_date_filters (optional)</li><li>start_date (optional)</li><li>end_date (optional)</li></ul><p><br/></p></td><td colspan="1" class="confluenceTd">Returns the USCDI sections as a C-CDA file for the selected patient, with optional start/end date constraints.</td><td colspan="1" class="confluenceTd"><ul><li>-2 : You are not authorized to perform this action</li><li>-3 : Invalid Token</li></ul></td><td colspan="1" class="confluenceTd"><br/></td></tr></tbody></table></div><p><br/></p><h1 id="EndUserDrCloudEHRMU3APIDocumentation-TestingwithPostman">Testing with Postman</h1><p>Postman (<a href="https://www.getpostman.com" class="external-link" rel="nofollow">https://www.getpostman.com</a>) can be used to test the API.   The DrCloud MU3 collection is available on request.</p><p>The &quot;Login&quot; request runs the &quot;login.php&quot; script, which must always be run before running any other Request, as documented above.</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" draggable="false" width="1024" confluence-query-params="effects=drop-shadow" src="attachments/68091911/68091914.png?effects=drop-shadow" data-image-src="attachments/68091911/68091914.png" data-unresolved-comment-count="0" data-linked-resource-id="68091914" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="Screen Shot 2019-01-14 at 2.22.45 PM.png" data-base-url="https://docs.drcloudemr.com:9443" data-linked-resource-content-type="image/png" data-linked-resource-container-id="68091911" data-linked-resource-container-version="8" alt=""></span></p><p>&quot;Request CCDA&quot; returns a Zip file containing the CCDA XML file, so instead of pressing the &quot;Send&quot; button, click on the little down arrow to the right, which will display the &quot;Send and Download&quot; button.   Clicking on that will allow you to download the file.</p><p> <span class="confluence-embedded-file-wrapper"><img class="confluence-embedded-image" draggable="false" confluence-query-params="effects=drop-shadow" src="attachments/68091911/68091912.png?effects=drop-shadow" data-image-src="attachments/68091911/68091912.png" data-unresolved-comment-count="0" data-linked-resource-id="68091912" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2019-1-15_10-31-27.png" data-base-url="https://docs.drcloudemr.com:9443" data-linked-resource-content-type="image/png" data-linked-resource-container-id="68091911" data-linked-resource-container-version="8" alt=""></span><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" draggable="false" width="1024" confluence-query-params="effects=drop-shadow" src="attachments/68091911/68091913.png?effects=drop-shadow" data-image-src="attachments/68091911/68091913.png" data-unresolved-comment-count="0" data-linked-resource-id="68091913" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2019-1-15_10-27-59.png" data-base-url="https://docs.drcloudemr.com:9443" data-linked-resource-content-type="image/png" data-linked-resource-container-id="68091911" data-linked-resource-container-version="8" alt=""></span></p><p><br/></p><h1 id="EndUserDrCloudEHRMU3APIDocumentation-TermsofUse">Terms of Use</h1><p>This is a legal agreement (&quot;Agreement&quot;) between you, the &quot;User&quot;, and Ensoftek Inc (&quot;Company&quot;).  BY ACCEPTING THIS AGREEMENT, YOU ARE CONSENTING TO BE BOUND BY ITS TERMS.<span style="color: rgb(23,43,77);">Read the terms of the agreement<span> </span></span><a rel="nofollow" href="https://www.drcloudemr.com/terms-of-use/" class="external-link">here.</a></p><h2 id="EndUserDrCloudEHRMU3APIDocumentation-Definitions"><span>Definitions</span></h2><p>As used herein: the &quot;Software&quot; means the DrCloudEHR Application Programming Interface (API).</p><h2 id="EndUserDrCloudEHRMU3APIDocumentation-LicenseGrant">License Grant</h2><p>All Users SHALL possess an active DrCloudEHR license agreement.   Use of this Software SHALL BE COVERED BY THE TERMS OF THAT LICENSE AGREEMENT.<span style="color: rgb(23,43,77);"><span> </span>If you do not have a license, existing customers can email </span><a rel="nofollow" class="external-link" href="mailto:support@drcloudemr.com?Subject=API%20access">support@drcloudemr.com</a><span style="color: rgb(23,43,77);">. New Customers, please email </span><a class="external-link" rel="nofollow" href="mailto:info@drcloudehr.com">info@drcloudehr.com</a></p><h2 id="EndUserDrCloudEHRMU3APIDocumentation-LimitationofLiability">Limitation of Liability</h2><p>Limitation of Liability for this Software SHALL BE COVERED BY THE TERMS OF THAT LICENSE AGREEMENT.</p><h2 id="EndUserDrCloudEHRMU3APIDocumentation-LicenseRestrictions"><span>License Restrictions</span></h2><p>The Company may limit the number of persons that can use the Software.</p><h2 id="EndUserDrCloudEHRMU3APIDocumentation-MandatoryDisclosures">Mandatory Disclosures</h2><p>Please refer to <a href="https://drcloudehr.com/promoting-interoperability-transparency-and-disclosure-requirements/" class="external-link" rel="nofollow">https://drcloudehr.com/promoting-interoperability-transparency-and-disclosure-requirements/</a></p><h2 id="EndUserDrCloudEHRMU3APIDocumentation-Usage"><span>Usage</span></h2><p>If you become aware of any unauthorized access or use of the Software, you shall immediately notify the Company.</p><p><br/></p><p><br/></p>
                    </div>

                                                            <div class="pageSection group">
                        <div class="pageSectionHeader">
                            <h2 id="attachments" class="pageSectionTitle">Attachments:</h2>
                        </div>

                        <div class="greybox" align="left">
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/68091911/68091915.png">image2019-1-15_12-46-56.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/68091911/68091913.png">image2019-1-15_10-27-59.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/68091911/68091912.png">image2019-1-15_10-31-27.png</a> (image/png)
                                <br/>
                                                            <img src="images/icons/bullet_blue.gif" height="8" width="8" alt=""/>
                                <a href="attachments/68091911/68091914.png">Screen Shot 2019-01-14 at 2.22.45 PM.png</a> (image/png)
                                <br/>
                                                    </div>
                    </div>
                    
                                                      
                </div>             </div> 
            <div id="footer" role="contentinfo">
                <section class="footer-body">
                    <p>Document generated by Confluence on Nov 19, 2025 02:49</p>
                    <div id="footer-logo"><a href="https://www.atlassian.com/">Atlassian</a></div>
                </section>
            </div>
        </div>     </body>
</html>
